(this["webpackJsonpimprove-your-english"]=this["webpackJsonpimprove-your-english"]||[]).push([[0],{80:function(e,t,n){e.exports=n(90)},90:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),l=n.n(o),c=n(14),i=n(2),s=n(66),d=n(132),u=n(158),m=n(151),h=n(149),p=n(92),g=n(150),f=n(4),w=n(146),v=n(145),E=n(67),b=n(156),y=n(54),x=n.n(y),k=n(65),C=n.n(k),O=n(153),j=n(157),S=n(148),I=n(144),B=n(18),W=n(35),P=n(21),T=n(42),A=n(43),M=n(51),N=n(147),H=n(134),L=n(136),_=n(140),D=n(139),R=n(137),F=n(155),U=n(138);var q=Object(d.a)({root:{width:"100%"},tableWrapper:{maxHeight:407,overflow:"auto"}});function z(e){var t=q(),n=Math.floor(window.innerHeight/128)+1,a=r.a.useState(0),o=Object(c.a)(a,2),l=o[0],i=o[1],s=r.a.useState(n),d=Object(c.a)(s,2),u=d[0],m=d[1],h=e.words,p=e.direction,g=function(e,t,n,a){for(var r=[],o=0;o<e.length;o+=1){var l=t?e[o][0]:e[o][1],c=t?e[o][1]:e[o][0],i=e[o][0],s=n.includes(i)?"wrong":a.includes(i)?"correct":"not practiced";r.push({arm:l,eng:c,correctness:s})}return r}(h,p,e.wrong,e.correct),f=function(e){return e?[{id:"arm",label:"Armenian",minWidth:200},{id:"eng",label:"English",minWidth:200},{id:"correctness",label:"Correctness",minWidth:200}]:[{id:"eng",label:"English",minWidth:200},{id:"arm",label:"Armenian",minWidth:200},{id:"correctness",label:"Correctness",minWidth:200}]}(p),w=u-Math.min(u,g.length-l*u);return r.a.createElement(H.a,{className:t.root},r.a.createElement("div",{className:t.tableWrapper},r.a.createElement(L.a,{stickyHeader:!0},r.a.createElement(R.a,null,r.a.createElement(U.a,null,f.map((function(e){return r.a.createElement(D.a,{key:e.label,align:e.align,style:{minWidth:e.minWidth}},r.a.createElement("b",null,e.label))})))),r.a.createElement(_.a,null,g.slice(l*u,l*u+u).map((function(e,t){return r.a.createElement(U.a,{hover:!0,role:"checkbox",tabIndex:-1,key:t},f.map((function(t){var n=e[t.id];return r.a.createElement(D.a,{key:"cell".concat(t.label),align:t.align},n)})))})),w>0&&r.a.createElement(U.a,{style:{height:53*w}},r.a.createElement(D.a,{colSpan:6}))))),r.a.createElement(F.a,{rowsPerPageOptions:[n,2*n,4*n,h.length],component:"div",count:g.length,rowsPerPage:u,page:l,backIconButtonProps:{"aria-label":"previous page"},nextIconButtonProps:{"aria-label":"next page"},onChangePage:function(e,t){i(t)},onChangeRowsPerPage:function(e){m(+e.target.value),i(0)}}))}var G=n(62),K=n.n(G),V=n(63),$=n.n(V),J=n(64),X=n.n(J),Q=n(154);function Y(e){for(var t=[],n=0;n<e.length;n+=1){var a=e[n].replace(/[.,/#!$%^&*;:{}=\-_`~()]/g,"").replace(/\s{2,}/g," ");t.push(a.toLowerCase())}return t}var Z=Object(f.a)({root:{"& label.Mui-focused":{color:"#8ED0B1"},"& .MuiInput-underline:after":{borderBottomColor:"#8ED0B1"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#8ED0B1"},"&:hover fieldset":{borderColor:"#8ED0B1"},"&.Mui-focused fieldset":{borderColor:"#8ED0B1"}}}})(Q.a),ee=function(e){function t(e){var n;Object(W.a)(this,t),(n=Object(T.a)(this,Object(A.a)(t).call(this,e))).keydownHandler=function(e){e.ctrlKey&&n.hint()},n.handleChange=function(e){"Enter"!==e.key&&(document.getElementById("answer").style.color="black",n.setState({answer:e.target.value}))},n.hint=function(){var e=n.state,t=e.rightAnswer,a=e.answered;if(e.hint)n.setState({hint:null});else{document.getElementById("answer").style.color="black";for(var r="",o=0;o<t.length;o+=1)if(!a.includes(t[o])){r=t[o];break}n.setState({hint:r})}},n.changeIndex=function(){var e=n.props.words,t=parseInt(document.getElementById("newIndex").value,10)-1;t>e.length||n.setState({editIndex:!1,index:t,answer:"",answered:[],rightAnswer:Y(e[t][1].split(" | "))})},n.handleKeyPress=function(e){if("Enter"===e.key){var t=n.state,a=t.rightAnswer,r=t.answered,o=t.index,l=n.state.answer,c=n.props,i=c.words,s=c.addWord,d=i[o][0];if(l=Y([l])[0],a.includes(l)&&!r.includes(l)){if(r.push(l),document.getElementById("answer").style.color="black",a.length<=r.length){var u=o<i.length-1?o+1:0;n.setState({index:u,answer:"",answered:[],rightAnswer:Y(i[u][1].split(" | "))})}else n.setState({answered:r,answer:""});n.setState({hint:null})}else if(a.includes(l)&&r.includes(l))document.getElementById("answer").style.color="orange";else{document.getElementById("answer").style.color="red";for(var m=a.filter((function(e){return!r.includes(e)})),h=0;h<m.length;h+=1)s(d,!1)}}};var a=e.words;return n.state={index:0,answer:"",rightAnswer:a.length>0?Y(e.words[0][1].split(" | ")):"",answered:[],helperText:"",editIndex:!1,hint:null},n}return Object(M.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keydownHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keydownHandler)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.direction===e.direction&&this.props.order===e.order||this.setState({index:0,answer:"",rightAnswer:Y(e.words[0][1].split(" | ")),answered:[],helperText:"",editIndex:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.words,o=t.direction,l=this.state,c=l.index,i=l.answer,s=l.rightAnswer,d=l.answered,u=l.helperText,m=l.editIndex,h=l.hint;return r.a.createElement("div",null,r.a.createElement(H.a,{className:n.root},0===a.length?r.a.createElement(p.a,{variant:"h5",component:"h3"},"No matching words."):r.a.createElement("div",null,r.a.createElement(v.a,{variant:"text",size:"large",className:n.button,endIcon:m?r.a.createElement(K.a,{onClick:function(){e.setState({editIndex:!1})}}):r.a.createElement($.a,{onClick:function(){e.setState({editIndex:!0})}})},m?r.a.createElement(Q.a,{id:"newIndex",label:"Max 15",defaultValue:c+1,className:n.textField,variant:"outlined",style:{width:"70px"}}):"".concat(c+1,"."),m&&r.a.createElement(X.a,{onClick:this.changeIndex})),r.a.createElement(w.a,{container:!0,spacing:2},r.a.createElement(w.a,{item:!0,xs:5},r.a.createElement(p.a,{variant:"h4",component:"h3",align:"right"},a[c][0])),r.a.createElement(w.a,{item:!0,xs:7},r.a.createElement(p.a,{variant:"h6",component:"h3",align:"left"},"| ".concat(d.join(" | ")))),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(Z,{id:"answer",label:"".concat(o?"English":"Armenian"," ").concat(d.length+1," - ").concat(s.length),className:n.textField,value:i,onChange:this.handleChange,onKeyPress:this.handleKeyPress,margin:"normal",variant:"outlined",autoComplete:"off",autoFocus:!0,helperText:u})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(w.a,{container:!0,spacing:2},r.a.createElement(w.a,{item:!0,xs:6}),r.a.createElement(w.a,{item:!0,xs:6},h?r.a.createElement(v.a,{size:"small",style:{textTransform:"none"},onClick:function(){e.setState({hint:null})}},h):r.a.createElement(v.a,{color:"primary",size:"small",onClick:this.hint},"Hint"))))))))}}]),t}(r.a.Component),te=Object(f.a)({root:{textAlign:"center"},textField:{width:"50%"}})(ee);var ne=function(e){function t(e){var n;return Object(W.a)(this,t),(n=Object(T.a)(this,Object(A.a)(t).call(this,e))).addWord=function(e,t){var a=n.state,r=a.wrong,o=a.correct;t?(o.includes(e)||(o.push(e),n.setState({correct:o})),r.includes(e)&&(r.pop(r.indexOf(e)),n.setState({wrong:r}))):(r.includes(e)||(r.push(e),n.setState({wrong:r})),o.includes(e)&&(o.pop(o.indexOf(e)),n.setState({correct:o})))},n.state={all:[],wrong:[],correct:[],update:!1,loading:!0},n}return Object(M.a)(t,e),Object(P.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.level,n=new XMLHttpRequest;n.open("GET","https://melqonyang.github.io/improve-your-english/words/".concat(t,".txt"),!0),n.send(null),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status&&1!==n.getResponseHeader("Content-Type").indexOf("text")){var t=n.responseText.split("\n");e.setState({all:t,update:!0,loading:!1}),document.getElementById("wordsCount").innerHTML="(".concat(t.length-1," words)")}}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;if(this.props.level!==e.level){this.setState({loading:!0});var n=e.level,a=new XMLHttpRequest;a.open("GET","https://melqonyang.github.io/improve-your-english/words/".concat(n,".txt"),!0),a.send(null),a.onreadystatechange=function(){if(4===a.readyState&&200===a.status&&1!==a.getResponseHeader("Content-Type").indexOf("text")){var e=a.responseText.split("\n");t.setState({all:e,update:!0,loading:!1}),document.getElementById("wordsCount").innerHTML="(".concat(e.length," words)")}}}}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,a=n.mode,r=n.direction,o=n.count,l=n.order;return!(!t.update&&t.loading===this.state.loading&&e.mode===a&&e.direction===r&&e.count===o&&e.order===l)&&(this.setState({update:!1}),!0)}},{key:"render",value:function(){var e=this.props,t=e.mode,n=e.direction,a=e.count,o=e.order,l=this.state.all,c=this.state,i=c.correct,s=c.wrong,d=c.loading;return l=function(e,t){for(var n=[],a=0;a<e.length;a+=1)if(e[a].trim().length>0){var r=e[a].split("*")[1].trim(),o=e[a].split("*")[0].trim();if(t){for(var l=o,c=0;c<e.length;c+=1)e[c].trim().length>0&&r===e[c].split("*")[1].trim()&&!l.includes(e[c].split("*")[0].trim())&&(l="".concat(l," | ").concat(e[c].split("*")[0].trim()));n.push([r,l])}else{for(var i=r,s=0;s<e.length;s+=1)e[s].trim().length>0&&o===e[s].split("*")[0].trim()&&!i.includes(e[s].split("*")[1].trim())&&(i="".concat(i," | ").concat(e[s].split("*")[1].trim()));n.push([o,i])}}for(var d=[],u=[],m=0;m<n.length;m+=1)u.includes(n[m][0])||(u.push(n[m][0]),d.push(n[m]));return d}(l,n),l=function(e,t,n,a){if("all"===a)return e;if("wrong"===a){for(var r=[],o=0;o<e.length;o+=1)t.includes(e[o][0])&&r.push(e[o]);return r}for(var l=[],c=0;c<e.length;c+=1)n.includes(e[c][0])&&l.push(e[c]);return l}(l=function(e,t){if("alphabetical"===t)e.sort((function(e,t){return e[0].toLowerCase()>t[0].toLowerCase()?1:t[0].toLowerCase()>e[0].toLowerCase()?-1:0}));else if("random"===t)for(var n,a,r=e.length;0!==r;)a=Math.floor(Math.random()*r),n=e[r-=1],e[r]=e[a],e[a]=n;return e}(Object(B.a)(l),o),s,i,a),r.a.createElement("div",null,d?r.a.createElement(N.a,{style:{marginTop:"10%",marginLeft:"50%"},color:"secondary"}):"show"===t?r.a.createElement(z,{words:l,direction:n,correct:i,wrong:s}):r.a.createElement(te,{words:l,direction:n,addWord:this.addWord,order:o}))}}]),t}(r.a.Component);var ae=Object(f.a)({root:{color:"#8ED0B1","&$checked":{color:"#8ED0B1"}},checked:{}})((function(e){return r.a.createElement(O.a,Object.assign({color:"default"},e))})),re=Object(d.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},menu:{backgroundImage:"linear-gradient(#1f4037, #99f2c8)",color:"white"},button:{margin:e.spacing(1),backgroundImage:"linear-gradient(#1f4037, #99f2c8)",color:"white"}}})),oe=["show all words","show only wrong words","show only correct words","practice all words","practice only wrong words","practice only correct words"];function le(e){var t=re(),n=e.level,o=Object(a.useState)(!0),l=Object(c.a)(o,2),i=l[0],s=l[1],d=Object(a.useState)("show"),u=Object(c.a)(d,2),m=u[0],h=u[1],g=Object(a.useState)("all"),f=Object(c.a)(g,2),y=f[0],k=f[1],O=Object(a.useState)("random"),B=Object(c.a)(O,2),W=B[0],P=B[1],T=r.a.useState(null),A=Object(c.a)(T,2),M=A[0],N=A[1],H=r.a.useState(null),L=Object(c.a)(H,2),_=L[0],D=L[1],R=function(e,t){e.stopPropagation(),"show"===t?N(e.currentTarget):D(e.currentTarget)},F=function(e){"show"===e?N(null):D(null)},U=function(e){switch(e<3?(h("show"),F("show")):(h("practice"),F("practice")),e){case 0:case 3:k("all");break;case 1:case 4:k("wrong");break;case 2:case 5:k("correct")}};return r.a.createElement("div",{className:t.root},r.a.createElement(w.a,{container:!0,spacing:1},r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(p.a,{variant:"h3",component:"h3",gutterBottom:!0,align:"center"},function(e){var t=e.split("_");return t[0].toUpperCase()+(t[1]?" ".concat(t[1]):"")}(n)," ",r.a.createElement("span",{id:"wordsCount",style:{fontSize:15}}),r.a.createElement(v.a,{variant:"contained",className:t.button,onClick:function(){s(!i)}},i?"Arm":"Eng"," ",r.a.createElement(C.a,null)," ",i?"Eng":"Arm"))),r.a.createElement(w.a,{item:!0,xs:"show"===m?8:4},r.a.createElement(v.a,{variant:"contained",fullWidth:!0,className:t.menu,onClick:function(){return h("show")},endIcon:r.a.createElement(x.a,{onClick:function(e){R(e,"show")}}),style:{height:"show"===m?"70px":"50px",marginTop:"show"===m?"0px":"10px"}},"show"===m?"Show ".concat(y," in ").concat(W," order"):"Show"),r.a.createElement(E.a,{id:"simple-menu",anchorEl:M,keepMounted:!0,open:Boolean(M),onClose:function(){return F("show")}},oe.map((function(e,t){return"show"===e.split(" ")[0]?r.a.createElement(b.a,{key:e,onClick:function(){return U(t)}},e):null})))),r.a.createElement(w.a,{item:!0,xs:"show"===m?4:8},r.a.createElement(v.a,{variant:"contained",onClick:function(){return h("practice")},fullWidth:!0,className:t.menu,endIcon:r.a.createElement(x.a,{onClick:function(e){R(e,"practice")}}),style:{height:"show"===m?"50px":"70px",marginTop:"show"===m?"10px":"0px"}},"practice"===m?"Practice ".concat(y," in ").concat(W," order"):"Practice"),r.a.createElement(E.a,{id:"simple-menu",anchorEl:_,keepMounted:!0,open:Boolean(_),onClose:function(){return F("practice")}},oe.map((function(e,t){return"practice"===e.split(" ")[0]?r.a.createElement(b.a,{key:e,onClick:function(){return U(t)}},e):null})))),r.a.createElement(w.a,{item:!0,xs:12,style:{textAlign:"center"}},r.a.createElement(I.a,null,r.a.createElement(j.a,{"aria-label":"position",name:"position",value:W,onChange:function(e){P(e.target.value)},row:!0},r.a.createElement(S.a,{value:"random",control:r.a.createElement(ae,null),label:"Random order",labelPlacement:"start"}),r.a.createElement(S.a,{value:"alphabetical",control:r.a.createElement(ae,null),label:"Alphabetical order",labelPlacement:"start"}),r.a.createElement(S.a,{value:"your",control:r.a.createElement(ae,null),label:"Book order",labelPlacement:"start"})))),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(ne,{level:n,mode:m,direction:i,count:y,order:W}))))}var ce=Object(s.a)({typography:{useNextVariants:!0},palette:{primary:{main:"#8ED0B1"},secondary:{main:"#030303"},contrastThreshold:3,tonalOffset:.2}}),ie=["level_1","level_2","level_3","level_4","level_5","level_6","phrases","irregular_verbs","another","all"];function se(e){var t=e.split("_");return t[0].toUpperCase()+(t[1]?" ".concat(t[1]):"")}function de(e){var t=e.children,n=e.value,a=e.index,o=Object(i.a)(e,["children","value","index"]);return r.a.createElement(p.a,Object.assign({component:"div",role:"tabpanel",hidden:n!==a,id:"vertical-tabpanel-".concat(a),"aria-labelledby":"vertical-tab-".concat(a)},o),r.a.createElement(g.a,{p:3},t))}var ue=Object(d.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",height:224},tabs:{borderRight:"1px solid ".concat(e.palette.divider),backgroundImage:"linear-gradient(#1f4037, #99f2c8)",color:"white",height:"100vh",minWidth:"17%"}}}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement((function(){var e=ue(),t=r.a.useState(0),n=Object(c.a)(t,2),a=n[0],o=n[1];return r.a.createElement(u.a,{theme:ce},r.a.createElement("div",{className:e.root},r.a.createElement(m.a,{orientation:"vertical",variant:"scrollable",value:a,onChange:function(e,t){o(t)},"aria-label":"Vertical tabs example",className:e.tabs},ie.map((function(e,t){return r.a.createElement(h.a,Object.assign({key:e,label:se(e)},function(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}(t)))}))),r.a.createElement(de,{value:a,index:a},r.a.createElement(le,{level:ie[a]}))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[80,1,2]]]);
//# sourceMappingURL=main.185e5b1c.chunk.js.map